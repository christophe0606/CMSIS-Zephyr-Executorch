# Copyright (c) Meta Platforms, Inc. and affiliates.
# All rights reserved.
# Copyright 2025-2026 Arm Limited and/or its affiliates.
#
# SPDX-License-Identifier: Apache-2.0

# C++ support - ExecuTorch requires full C++ standard library
CONFIG_CPP=y
CONFIG_STD_CPP17=y
CONFIG_GLIBCXX_LIBCPP=y
CONFIG_NEWLIB_LIBC=y

# Stack and heap configuration - increased for ExecuTorch memory requirements
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Logging
CONFIG_REQUIRES_FLOAT_PRINTF=y

# Memory pool configuration for ExecuTorch
# Reduced for MPS3 AN547 RAM limits (4MB SRAM)
CONFIG_EXECUTORCH_METHOD_ALLOCATOR_POOL_SIZE=65536
# Ethos-U scratch memory - place in DDR, reduced for RAM fit
CONFIG_EXECUTORCH_TEMP_ALLOCATOR_POOL_SIZE=262144

# Enable the Zephyr Ethos-U driver so executorch_delegate_ethos_u can reserve
# and use the hardware instance exposed by the board DTS.
CONFIG_ETHOS_U=y

# Enable Helium (MVE) builds of CMSIS-NN by selecting the FPU and hard-float ABI.
CONFIG_FPU=y
CONFIG_FP_HARDABI=y
